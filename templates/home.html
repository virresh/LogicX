{% extends "base.html" %}
{% block title %}Choose Level{% endblock %}

{% block head %}
{{ super() }}
<style>
.carousel-indicators-numbers {
    li {
      text-indent: 0;
      margin: 0 2px;
      width: 30px;
      height: 30px;
      border: solid;
      border-radius: 100%;
      line-height: 30px;
      color: black;
      background-color: black;
      transition: all 0.25s ease;
      &.active, &:hover {
        margin: 0 2px;
        width: 30px;
        height: 30px;
        background-color: #337ab7;
      }
    }
}
.modal.modal-wide .modal-dialog {
  width: 90%;
}
.modal-wide .modal-body {
  overflow-y: auto;
}
</style>
{% endblock %}

{% block content %}
	<div class="container">
		<div class="row">
			<h1>Hello {{ name }},</h1>
            <h3>Welcome to LogicX</h3>
            {% if track != None and level != None %}
            <p>You were playing with {{track}}, level {{level}}. What would would you like to do now ?</p>
            {% else %}
            <p>Looks like you haven't started yet. If you're stuck, take a look at the help on the right :D. Happy Playing !</p>
            {% endif %}
		</div>
		<div class="row">
			<div class="col-sm-6">
				<ul style="list-style: none;">
					<li style="padding: 20px;"> <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#loopLevelSelect">Play with Loops</button> </li>
                    <li style="padding: 20px;">
                        <form method="post" action="/level">
                            <button type="submit" class="btn btn-info btn-lg">Play with Operators</button>
                            {% if level == none %}
                                <input type="hidden" name="track" value="operators">
                                <input type="hidden" name="level" value="0">
                            {% else %}
                                <input type="hidden" name="track" value="operators">
                                <input type="hidden" name="level" value="{{level}}">
                            {% endif %}
                        </form>
                    </li>
				</ul>
			</div>
			<div class="col-sm-6">
				<ul style="list-style: none;">
					<li style="padding: 20px;"> <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#gameHelp">Help !</button> </li>
				</ul>
			</div>
		</div>
	</div>

	<div id="gameHelp" class="modal modal-wide fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Game Help</h4>
				</div>
				<div class="modal-body">
					<div id="myCarousel" class="carousel slide" data-ride="carousel">
						<!-- Indicators -->
						<ol class="carousel-indicators carousel-indicators-numbers" style="background-color: black;">
							<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
							<li data-target="#myCarousel" data-slide-to="1"></li>
							<li data-target="#myCarousel" data-slide-to="2"></li>
						</ol>

						<!-- Wrapper for slides -->
						<div class="carousel-inner" style="padding-left:200px; padding-right:200px; padding-top:50px; padding-bottom:50px">
							<div class="item active">
								<p>
									Hi there,<br>
									This game will help you to practice some basic concepts of programming in C++ language. For now there are two types of games available to try out:
									<ol>
										<li> Operator Game - Here you will have to guess the correct relation and code it </li>
										<li> Pyramids and Loops - Here you will have to construct the correct pyramid as described.</li>
									</ol>
									We hope you will enjoy playing them.
								</p>
							</div>

							<div class="item" style="text-align:center">
								<h1>Overview of the Game Panel</h1>
								<img class="img-responsive center-block" src="{{ url_for('static', filename='images/HelpFig.png') }}" alt="HelpFigure">
								<p style="text-align:left">
									The Game panel has 5 major windows as shown above.
									<ul style="text-align:left">
										<li>The Source Code Window: &emsp; You will write your C++ code in this window. A starting code has been given. Note that we will use GNU C++ and not Borland or Turbo C++ here, although the syntax will be same. </li>
										<li>The Output window: &emsp; Here any output generated by executing your submitted code will be given. Your goal is to make this output the same as the expected output.</li>
										<li>Compilation output: &emsp; In case any errors or warnings are generated while running your code, they will be shown here.</li>
										<li>Standard input: &emsp; This window contains the input that will be given to your code. You cannot modify this.</li>
										<li>Expected output: &emsp; This window contains the output expected from your code against the given input</li>
									</ul>
								</p>
							</div>

							<div class="item">
								<div class="container">
                                    Hola, Hopefully you give this game a good rating :D !
                                </div>
							</div>
						</div>

						<!-- Left and right controls -->
						<a class="left carousel-control" href="#myCarousel" data-slide="prev">
							<span class="glyphicon glyphicon-chevron-left"></span>
							<span class="sr-only">Previous</span>
						</a>
						<a class="right carousel-control" href="#myCarousel" data-slide="next">
							<span class="glyphicon glyphicon-chevron-right"></span>
							<span class="sr-only">Next</span>
						</a>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>


	<div id="loopLevelSelect" class="modal fade" role="dialog">
		<div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Choose your level :</h4>
				</div>
				<div class="modal-body">
					<p>
						<button type="button" class="btn btn-success" data-dismiss="modal">Level 1</button>
						<button type="button" class="btn btn-success" data-dismiss="modal">Level 2</button>
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>

    <div id="operatorSelect" class="modal fade" role="dialog">
		<div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Want to continue o</h4>
				</div>
				<div class="modal-body">
					<p>
						<button type="button" class="btn btn-success" data-dismiss="modal">Level 1</button>
						<button type="button" class="btn btn-success" data-dismiss="modal">Level 2</button>
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
$(".modal-wide").on("show.bs.modal", function() {
  var height = $(window).height() - 200;
  $(this).find(".modal-body").css("max-height", height);
});
</script>
{% endblock %}
